<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>–í–∞—Å –≤–∑–ª–æ–º–∞–ª–∏ ‚Äî Halloween prank</title>
<style>
  html,body{height:100%;margin:0;background:#000;color:#0f0;font-family:"Courier New",monospace;overflow:hidden}
  canvas{position:fixed;inset:0;z-index:0;display:block}
  .overlay{position:relative;z-index:2;height:100vh;display:flex;align-items:center;justify-content:center;text-align:center;padding:18px;box-sizing:border-box}
  .panel{max-width:720px;background:rgba(0,0,0,.5);border:1px solid rgba(0,255,0,.06);padding:22px;border-radius:12px;box-shadow:0 8px 40px rgba(0,0,0,.6)}
  h1{margin:0;font-size:30px;letter-spacing:1px;color:#bfffbf}
  .big{font-size:48px;font-weight:800;color:#ff4b4b;text-shadow:0 0 18px rgba(255,75,75,.14);display:none;margin-top:8px}
  .type{margin-top:12px;min-height:46px;color:#cfeecc;font-size:18px}
  .reveal{margin-top:14px;display:none;background:#0f0;color:#000;padding:12px;border-radius:8px;font-weight:700}
  .btns{margin-top:12px;display:none;gap:10px;justify-content:center}
  a.button{display:inline-block;padding:9px 14px;border-radius:8px;text-decoration:none;font-weight:700;background:transparent;border:1px solid rgba(255,255,255,.12);color:#042a02}
  a.secondary{border-color:rgba(255,255,255,.06);color:#fff;background:rgba(255,255,255,.04)}
  footer{margin-top:12px;font-size:12px;color:#9fd99f;opacity:.9}
  @media (max-width:520px){.panel{padding:14px}.big{font-size:36px}}
</style>
</head>
<body>
<canvas id="c"></canvas>

<div class="overlay">
  <div class="panel" role="region" aria-label="–•—ç–ª–ª–æ—É–∏–Ω—Å–∫–∏–π —Ä–æ–∑—ã–≥—Ä—ã—à">
    <h1>–°–¢–ê–¢–£–° –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò: <span id="status">–ê–ù–û–ú–ê–õ–ò–Ø</span></h1>
    <div class="big" id="bigtext">–í–ê–° –í–ó–õ–û–ú–ê–õ–ò</div>
    <div class="type" id="typewriter">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ü–µ–ª–∏‚Ä¶</div>

    <div class="reveal" id="revealBox">üéÉ –≠—Ç–æ —Ö—ç–ª–ª–æ—É–∏–Ω—Å–∫–∏–π —Ä–æ–∑—ã–≥—Ä—ã—à! –î–∞–Ω–Ω—ã–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –•–æ—Ç–∏—Ç–µ —Å–æ–≤–µ—Ç—ã –ø–æ –∑–∞—â–∏—Ç–µ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ?</div>

    <div class="btns" id="btns">
      <a class="button" id="learn" href="https://staysafeonline.org" target="_blank" rel="noopener">–°–æ–≤–µ—Ç—ã –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</a>
      <a class="button secondary" id="closeBtn" href="#" role="button">–ó–∞–∫—Ä—ã—Ç—å</a>
    </div>

    <footer>–ü–æ–¥—Å–∫–∞–∑–∫–∞: —ç—Ç–æ —à—É—Ç–æ—á–Ω—ã–π —Ä–æ–∑—ã–≥—Ä—ã—à ‚Äî –Ω–µ –≤–≤–æ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –∏ –Ω–µ –¥–µ–ª–∏—Ç–µ—Å—å –ª–∏—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.</footer>
  </div>
</div>

<script>
/* Matrix rain —É—Å–∫–æ—Ä—ë–Ω–Ω—ã–π */
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
let w = canvas.width = innerWidth;
let h = canvas.height = innerHeight;
function resize(){ w = canvas.width = innerWidth; h = canvas.height = innerHeight; cols = Math.floor(w / 14); if(columns.length < cols) { while(columns.length < cols) columns.push(0); } }
addEventListener('resize', resize);

let cols = Math.floor(w / 14);
let columns = Array.from({length: cols}, ()=>Math.random()*10);
function matrix(){
  ctx.fillStyle = 'rgba(0,0,0,0.18)';
  ctx.fillRect(0,0,w,h);
  ctx.fillStyle = '#0f0';
  ctx.font = '14px monospace';
  for (let i=0;i<cols;i++){
    const text = String.fromCharCode(33 + Math.random()*94);
    const x = i * 14;
    ctx.fillText(text, x, columns[i]*14);
    if (columns[i]*14 > h && Math.random() > 0.96) columns[i]=0;
    columns[i] += 0.9 + Math.random()*1.6; // —Å–∫–æ—Ä–æ—Å—Ç—å
  }
  requestAnimationFrame(matrix);
}
matrix();

/* –£—Å–∫–æ—Ä–µ–Ω–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å ¬´–≤–∑–ª–æ–º–∞¬ª (–∫–æ—Ä–æ—Ç–∫–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏) */
const typeEl = document.getElementById('typewriter');
const big = document.getElementById('bigtext');
const reveal = document.getElementById('revealBox');
const btns = document.getElementById('btns');
const closeBtn = document.getElementById('closeBtn');

const steps = [
  {text: '–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤...', delay:400},
  {text: '–û–±—Ö–æ–¥ –º–µ–∂—Å–µ—Ç–µ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞...', delay:450},
  {text: '–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö...', delay:450},
  {text: '–ü–µ—Ä–µ—Å—ã–ª–∫–∞ –¥–∞–Ω–Ω—ã—Ö...', delay:400},
  {text: '–ö–û–ú–ü–†–û–ú–ò–°–° –ó–ê–§–ò–ö–°–ò–†–û–í–ê–ù', delay:350},
];

(async function runSequence(){
  for (const s of steps){
    await typeLine(s.text, s.delay);
  }
  await pause(250);
  big.style.display='block';
  await flashBig();
  await pause(700);
  reveal.style.display='block';
  btns.style.display='flex';
})();

function typeLine(line, delay){
  return new Promise(res=>{
    typeEl.textContent='';
    let i=0;
    const t = setInterval(()=>{
      typeEl.textContent += line.charAt(i);
      i++;
      if(i>line.length){ clearInterval(t); setTimeout(res, delay); }
    }, 30); // —Å–∫–æ—Ä–æ—Å—Ç—å –ø–µ—á–∞—Ç–∏ (–º–µ–Ω—å—à–µ = –±—ã—Å—Ç—Ä–µ–µ)
  });
}

function pause(ms){ return new Promise(r => setTimeout(r, ms)); }

async function flashBig(){
  for (let i=0;i<5;i++){
    big.style.opacity = i%2? '0.16' : '1';
    await pause(100);
  }
  big.style.opacity = '1';
}

closeBtn.addEventListener('click', (e)=>{
  e.preventDefault();
  reveal.textContent = "–†–æ–∑—ã–≥—Ä—ã—à –∑–∞–≤–µ—Ä—à—ë–Ω. –ù–µ –≤–≤–æ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–∞–π—Ç–∞—Ö. –°—á–∞—Å—Ç–ª–∏–≤–æ–≥–æ –•—ç–ª–ª–æ—É–∏–Ω–∞! üéÉ";
  btns.style.display = 'none';
});

/* Accessibility: –∑–∞–∫—Ä—ã—Ç–∏–µ ESC */
addEventListener('keydown', (e)=>{ if(e.key==='Escape'){ reveal.textContent = "–†–æ–∑—ã–≥—Ä—ã—à –∑–∞–≤–µ—Ä—à—ë–Ω. –ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã –≤ —Å–µ—Ç–∏."; btns.style.display='none'; }});
</script>
</body>
</html>
